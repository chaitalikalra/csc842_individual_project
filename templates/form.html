<!DOCTYPE html>
<html lang="en">

<head>
    <title>Registration Form</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/parsley.js/2.9.1/parsley.min.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<style>
    #tooltip
{
    text-align: center;
    color: #fff;
    background: #111;
    position: absolute;
    z-index: 100;
    padding: 15px;
}
 
    #tooltip:after /* triangle decoration */
    {
        width: 0;
        height: 0;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        border-top: 10px solid #111;
        content: '';
        position: absolute;
        left: 50%;
        bottom: -10px;
        margin-left: -10px;
    }
 
        #tooltip.top:after
        {
            border-top-color: transparent;
            border-bottom: 10px solid #111;
            top: -20px;
            bottom: auto;
        }
 
        #tooltip.left:after
        {
            left: 10px;
            margin: 0;
        }
 
        #tooltip.right:after
        {
            right: 10px;
            left: auto;
            margin: 0;
        }
</style>

<body>
    <div class="container" style="max-width: 600px">
        <div class="alert alert-dark" role="alert">CSC 642-842 Summer 2019 Individual Assignment Chaitali Kalra</div>
        <h2 align="center">Registration Form</h2>
        <form action="{{ url_for('results') }}" class="needs-validation" id="my-form" method="POST" novalidate>
            <input type="hidden" id="verify-captcha" value="_C@PtCh@_">
            <div class="form-row">
                <div class="col">
                    <div class="form-group">
                        <label for="firstname">First Name:<span style="color: red"><b>*</b></span></label>
                        <input type="text" class="form-control" id="firstname" placeholder="First Name" name="firstname" maxlength="40" pattern="^[A-Za-z\-\s]+$" data-parsley-pattern-message="Name must contain only alphabets, hyphen or whitespace" data-parsley-required-message="Please enter your first name." data-parsley-maxlength-message="First name must be 40 characters or fewer." required>
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="lastname">Last Name:<span style="color: red"><b>*</b></span></label>
                        <input type="text" class="form-control" id="lastname" placeholder="Last Name" name="lastname" maxlength="40" pattern="^[A-Za-z\-\s]+$" data-parsley-pattern-message="Name must contain only alphabets, hyphen or whitespace" data-parsley-required-message="Please enter your last name." data-parsley-maxlength-message="Last name must be 40 characters or fewer." required>
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="email">Email:</label><span style="color: red"><b>*</b></span>
                        <input type="email" class="form-control" id="email" placeholder="Enter your email" name="email" data-parsley-error-message="Please enter a valid email." required>
                        <div class="invalid-feedback"></div>
                    </div>
                    <div class="form-group">
                        <label for="confirmemail">Confirm Email:</label><span style="color: red"><b>*</b></span>
                        <input type="text" class="form-control" id="confirmemail" placeholder="Enter your email again" name="confirmemail" data-parsley-equalto="#email" data-parsley-required-message="Please enter your email again." data-parsley-equalto-message="Emails must match." required>
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col">
                        <label for="address1">Address 1:<span style="color: red"><b>*</b></span></label>
                        <input type="text" class="form-control" id="address1" placeholder="Street Address" name="address1" maxlength="40" pattern="^[\w\-\s]+$" data-parsley-required-message="Please enter your address." data-parsley-pattern-message="Address must only contain alphabets, digits or whitespace." data-parsley-maxlength-message="Address must be 40 characters or fewer." required>
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col">
                        <label for="address2">Address 2:</label>
                        <input type="text" class="form-control" id="address2" placeholder="Apt, suite, etc." name="address2" pattern="^[\w\-\s]+$" data-parsley-pattern-message="Address must only contain alphabets, digits or whitespace.">
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="city">City<span style="color: red"><b>*</b></span></label>
                        <input type="text" class="form-control" id="city" placeholder="San Francisco" name="city" maxlength="40" pattern="^[\w\-\s]+$" data-parsley-pattern-message="City must only contain alphabets, digits or whitespace." data-parsley-required-message="Please enter your city." data-parsley-maxlength-message="City must be 40 characters or fewer." required>
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="state">State<span style="color: red"><b>*</b></span></label>
                        <select class="custom-select" id="state" name="state" data-parsley-required-message="Please select your state." required>
                            <option value="" selected>Choose one</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">District Of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="zip">ZIP Code<span style="color: red"><b>*</b></span></label>
                        <input type="text" class="form-control" id="zip" placeholder="94536" name="zip" minlength="5" maxlength="5" data-parsley-type="digits" data-parsley-error-message="Please enter a valid ZIP code." required>
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="phoneno">Phone Number<span style="color: red"><b>*</b></span><abbr title="Only needed to contact you." rel="tooltip"><img src="https://shots.jotform.com/kade/Screenshots/blue_question_mark.png" height="13px" /></abbr></label>
                        <input type="text" class="form-control" id="phoneno" placeholder="8009001000" name="phoneno" minlength="10" maxlength="10" data-parsley-type="digits" data-parsley-error-message="Please enter a valid phone number." required>
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <div class="dropdown">
                            <label for="education">Education Level</label>
                            <select class="custom-select" id="education", name="education">
                                <option value="" selected>Choose one</option>
                                <option value="High School">High School</option>
                                <option value="College">College</option>
                                <option value="Graduate Studies">Graduate Studies</option>
                                <option value="PhD">PhD</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <div class="dropdown">
                            <label for="income">Annual Income</label>
                            <select class="custom-select" id="income" name="income" novalidate>
                                <option value="" selected>Choose one</option>
                                <option value="Less than $50,000">Less than $50,000</option>
                                <option value="Between $50,000 - $100,000">Between $50,000 - $100,000</option>
                                <option value="Greater than $100,000">Greater than $100,000</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <div class="g-recaptcha" data-sitekey="6LcKxa4UAAAAADJ6F9ZjhuXSCUIgUy2z2EDZj6qy" data-callback="verifyRecaptchaCallback" data-expired-callback="expiredRecaptchaCallback"></div>
                        <input type="hidden" id="verify-captcha2" value="" data-parsley-equalto="#verify-captcha" data-parsley-error-message="Please verify that you are not a robot." required>
                        <div class="invalid-feedback"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" name="toc" id="toc" data-parsley-error-message="Please agree to the Terms and Conditions." required> I agree to the Terms and Conditions<span style="color: red"><b>*</b></span>
                            <div class="invalid-feedback"></div>
                        </label>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary" style="float: right;">Submit</button>
            <button type="reset" class="btn btn-danger">Cancel</button>
        </form>
    </div>
    <script>

    var verifyRecaptchaCallback = function(response) {
        $('#verify-captcha2').val($('#verify-captcha').val());
        $('#verify-captcha2').parsley().reset()
      };
    // Parsely Form Validation

    // Parsley plugin initialization with tweaks to style Parsley for Bootstrap 4
    $("#my-form").parsley({
        errorClass: 'is-invalid text-danger',
        successClass: 'is-valid', // Comment this option if you don't want the field to become green when valid. Recommended in Google material design to prevent too many hints for user experience. Only report when a field is wrong.
        errorsWrapper: '<span class="form-text text-danger"></span>',
        errorTemplate: '<span></span>',
        trigger: 'change',
        excluded: 'input[type=button], input[type=submit], input[type=reset]',
        inputs: 'input, textarea, select, input[type=hidden], :hidden',
    }) /* If you want to validate fields right after page loading, just add this here : .validate()*/ ;


    /*
    // Disable form submissions if there are invalid fields
    (function() {
        'use strict';
        window.addEventListener('load', function() {
            // Get the forms we want to add validation styles to
            var forms = document.getElementsByClassName('needs-validation');
            // Loop over them and prevent submission
            var validation = Array.prototype.filter.call(forms, function(form) {
                form.addEventListener('submit', function(event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();
    */
    // Tooltip Display
    $(function() {
        var targets = $('[rel~=tooltip]'),
            target = false,
            tooltip = false,
            title = false;

        targets.bind('mouseenter', function() {
            target = $(this);
            tip = target.attr('title');
            tooltip = $('<div id="tooltip"></div>');

            if (!tip || tip == '')
                return false;

            target.removeAttr('title');
            tooltip.css('opacity', 0)
                .html(tip)
                .appendTo('body');

            var init_tooltip = function() {
                if ($(window).width() < tooltip.outerWidth() * 1.5)
                    tooltip.css('max-width', $(window).width() / 2);
                else
                    tooltip.css('max-width', 340);

                var pos_left = target.offset().left + (target.outerWidth() / 2) - (tooltip.outerWidth() / 2),
                    pos_top = target.offset().top - tooltip.outerHeight() - 20;

                if (pos_left < 0) {
                    pos_left = target.offset().left + target.outerWidth() / 2 - 20;
                    tooltip.addClass('left');
                } else
                    tooltip.removeClass('left');

                if (pos_left + tooltip.outerWidth() > $(window).width()) {
                    pos_left = target.offset().left - tooltip.outerWidth() + target.outerWidth() / 2 + 20;
                    tooltip.addClass('right');
                } else
                    tooltip.removeClass('right');

                if (pos_top < 0) {
                    var pos_top = target.offset().top + target.outerHeight();
                    tooltip.addClass('top');
                } else
                    tooltip.removeClass('top');

                tooltip.css({ left: pos_left, top: pos_top })
                    .animate({ top: '+=10', opacity: 1 }, 50);
            };

            init_tooltip();
            $(window).resize(init_tooltip);

            var remove_tooltip = function() {
                tooltip.animate({ top: '-=10', opacity: 0 }, 50, function() {
                    $(this).remove();
                });

                target.attr('title', tip);
            };

            target.bind('mouseleave', remove_tooltip);
            tooltip.bind('click', remove_tooltip);
        });
    });
    </script>
</body>

</html>